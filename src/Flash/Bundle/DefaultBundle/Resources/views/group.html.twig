{% extends "TwigBundle::layout.html.twig" %}

{% block head %}
<link rel="icon" sizes="16x16" href="{{ asset('favicon.ico') }}" />
<link rel="stylesheet" href="{{ asset('bundles/flashdefault/css/style.css') }}" />
<link rel="stylesheet" href="{{ asset('bundles/flashdefault/css/bootstrap.css') }}" />
<script src="{{ asset('bundles/acmedemo/js/lib/jquery-1.7.1.min.js') }}"></script>
<script src="{{ asset('bundles/acmedemo/js/lib/underscore-min.js') }}"></script>
<script src="{{ asset('bundles/acmedemo/js/lib/backbone-min.js') }}"></script>
<script src="{{ asset('bundles/flashdefault/js/lib/date.min.js') }}"></script>

{% endblock %}


{% block body %}

    {% block content_header %}
        <div class="navbar">
            <div class="navbar-inner">
                    {% block content_header_more %}
                        {% if is_granted('ROLE_ADMIN') %}
                            {{ knp_menu_render('FlashDefaultBundle:Builder:adminMenu') }}
                        {% elseif is_granted('ROLE_LEADER')%}
                            {{ knp_menu_render('FlashDefaultBundle:Builder:leaderMenu') }}
                        {% elseif is_granted('ROLE_USER')%}
                             {{ knp_menu_render('FlashDefaultBundle:Builder:leaderMenu') }}
                        {% endif %}
                    {% endblock %}
            </div>
        </div>
    {% endblock %}
        
    <div class="block" id='main'>
        <div class='sidebar'>
            {% if is_granted('EDIT', app.user.getGroup) %}
                {{ knp_menu_render('FlashDefaultBundle:Builder:groupLeaderMenu') }}
                {% if (app.user.getGroup.getNumberOfParty >= app.user.getGroup.getMinimumUsersNumber) %}
                    {{ knp_menu_render('FlashDefaultBundle:Builder:groupActiveLeaderMenu') }}
                {% endif %}
            {% endif %}
        </div>
    {% block content %}{% endblock %}
    </div>

    <script src="{{ asset('bundles/flashdefault/js/common/BasicViewExtend.js') }}"></script>   
    <script src="{{ asset('bundles/flashdefault/js/common/BasicRouterExtend.js') }}"></script>   
    <script src="{{ asset('bundles/flashdefault/js/common/LocationViewExtend.js') }}"></script>     
    <script src="{{ asset('bundles/flashdefault/js/common/DateViewExtend.js') }}"></script>     
        
    <script src="{{ asset('bundles/flashdefault/js/model/GroupModel.js') }}"></script>
    <script src="{{ asset('bundles/flashdefault/js/model/EventModel.js') }}"></script>    
    <script src="{{ asset('bundles/flashdefault/js/model/CityModel.js') }}"></script>
    <script src="{{ asset('bundles/flashdefault/js/model/CountryModel.js') }}"></script>

    
    <script src="{{ asset('bundles/flashdefault/js/views/CountryListView.js') }}"></script>
    <script src="{{ asset('bundles/flashdefault/js/views/CityListView.js') }}"></script>
    <script src="{{ asset('bundles/flashdefault/js/views/EventListView.js') }}"></script>
    
    <script src="{{ asset('bundles/flashdefault/js/views/EventDetails.js') }}"></script>
    
    <script src="{{ asset('bundles/flashdefault/js/controller/GroupRouter.js') }}"></script>   

{% endblock %}
